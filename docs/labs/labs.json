[
  {
    "path": "labs/L_4/",
    "title": "Lab 4",
    "description": {},
    "author": [
      {
        "name": "Joseph Bulbulia",
        "url": "https://josephbulbulia.netlify.app"
      },
      {
        "name": "Johannes Karl",
        "url": "https://johannes-karl.com"
      }
    ],
    "date": "2021-03-16",
    "categories": [],
    "contents": "\n\nContents\nThe lab\nLibraries\nImport data\nQ1. Warmup\nQ2a. Scale, center, transform\nQ2b Data wrangle\nQ3. Working with dates\nQ4 Caculating dates and creating summaries\nQ5. Working with date intervals\nQ6 Create an ordered factor from numeric data\nQ7 Make a summary table\nQ7. Make a summary graph\nQ8. Correlation graph\nQ9 Create a blank papaja report\nQ10 Patchwork\n\nThe lab\nThe lab today is your workbooks. We’ll be available during lab to help.\nLibraries\n\n\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(pmdplyr)\nlibrary(correlation)\nlibrary(ggraph)\nlibrary(patchwork)\n\n\n\nRun this code\n\n\n#easystats::install_easystats_latest()\n\n\n\nImport data\n\n\n# read data\nnz_0 <- readr::read_csv2(url(\"https://raw.githubusercontent.com/go-bayes/psych-447/main/data/nz/nz.csv\"))\n\n# to relevel kessler 6 variables\nf<-c(\"None Of The Time\",\"A Little Of The Time\",\"Some Of The Time\",  \"Most Of The Time\", \"All Of The Time\")\n\n# get data into shape\nnz <- nz_0 %>%\n  dplyr::mutate_if(is.character, factor) %>%\n  select(\n    -c(\n      SWB.Kessler01,\n      SWB.Kessler02,\n      SWB.Kessler03,\n      SWB.Kessler04,\n      SWB.Kessler05,\n      SWB.Kessler06\n    )\n  ) %>%\n  dplyr::mutate(Wave = as.factor(Wave)) %>%\n  mutate(FeelHopeless = forcats::fct_relevel(FeelHopeless, f)) %>%\n  mutate(FeelDepressed = forcats::fct_relevel(FeelDepressed, f)) %>%\n  mutate(FeelRestless = forcats::fct_relevel(FeelRestless, f)) %>%\n  mutate(EverythingIsEffort = forcats::fct_relevel(EverythingIsEffort, f)) %>%\n  mutate(FeelWorthless = forcats::fct_relevel(FeelWorthless, f)) %>%\n  mutate(FeelNervous = forcats::fct_relevel(FeelNervous, f)) %>%\n  dplyr::mutate(Wave = as.factor(Wave)) %>%\n  dplyr::mutate(date = make_date(year = 2009, month = 6, day = 30) + TSCORE) \n\n\n\nQ1. Warmup\nUsing the nz dataset, make all the hours variables into integers\nQ2a. Scale, center, transform\nCreate a new indicator that standardises the Pol.Orient variable, create a new indicator that centers the Pol.Orient variable, create a new indicator that centres the Age variable in decade-long units. Do this in a single piped workflow.\nPrint the head of the data frame so that we can see your work \nQ2b Data wrangle\nSelect Hour.Exercise and filter Wave 2019.\nQ3. Working with dates\nWhat are the maximum number of responses for a single day in 2018 and the maximum number of responses for a single day in 2019?\nQ4 Caculating dates and creating summaries\nHow many days are there between the date with the highest number of responses and the date with the second highest number of responses?\nBonus: Calculate difference between the number of responses on the highest response date and second highest response date.\nQ5. Working with date intervals\nSuppose you were born on Dec 25, 1995 at 5.02:22 am Calculate your age in months on March 20,2021, at 1:22:04pm. (Hint use the lubridate package. Look up the interval function).\nQ6 Create an ordered factor from numeric data\nThe Religion.Church variable contains responses to the question: “How many times each month do you attend church or religious service?”\nCreate factor with the following three levels:\nPeople who attend church 0 times per month,\nPeople who attend church 1-3 times per month,\nPeople who attend church 4 or more times per month.\nMake sure to re-level the factor so that the ordinal ranking moves from lowest to highest.\nQ7 Make a summary table\nUsing methods described in Lecture 4, create a table for average hours of sleep by month in the nz dataset\nQ7. Make a summary graph\nGraph the average hours of sleep by month including 95% confidence intervals\nBriefly explain why some intervals are wider than others.\nQ8. Correlation graph\nCreated a correlation graph for the items in the Kessler 6 scale\nThese are FeelHopeless,FeelDepressed,FeelRestless,EverythingIsEffort,FeelWorthless,FeelNervous\nHint you must transform the factors into integers.\nWhat do you find most interesting about this plot? Explain.\nQ9 Create a blank papaja report\nInclude your your name, affiliation, contributors and r packages used in your analysis\nQ10 Patchwork\nUse the patchwork library to create a figure with two plots on top of each other.\n\n\n\n",
    "preview": {},
    "last_modified": "2021-03-16T15:55:52+13:00",
    "input_file": {}
  },
  {
    "path": "labs/L_3/",
    "title": "Week 3 Lab",
    "description": {},
    "author": [
      {
        "name": "Joseph Bulbulia",
        "url": "https://josephbulbulia.netlify.app"
      },
      {
        "name": "Johannes Karl",
        "url": "https://johannes-karl.com"
      }
    ],
    "date": "2021-03-10",
    "categories": [],
    "contents": "\n\nContents\nLibraries we will need\nJohannes helpful models for doing things with ggplot2\nQuestion 1: Why is this graph not printing any output?\nQuestion 2. Using the mpg dataset, graph the relationship between city milage and highway mileage by year manufacture\nQuestion 3. Edit this graph so that the x axis and the y axis both start at 0\nQuestion 4: what is one benefit and one limitation for this graph above (in which the x and y values start at 0?)\nQuetion 5. Which of these two graphs do you prefer and why?\nQuetion 6. add a facet to this graph for the “class” variable\nQuestion 7. which graph is more informative and why?\nQuestion 8. remove the legend from the facet graph above (g4)\nQuestion 9 Convert the y variable to “numeric” and graph the relationship betweeen religiousity (x-axis) and `thr_mus`` (y-axis) in the ISSP dataset. Create new axis labels\nQuestion 10. Note that I have the following graph should start from 1 and run to 4 but currently runs from 0-4. Fix the graph\nExtra question 11. Find one way of improving the the following code and explain your answer\n\nLibraries we will need\n\n\nlibrary(\"tidyverse\")\nlibrary(\"patchwork\")\nlibrary(\"readr\")\nlibrary(\"sjPlot\")\nlibrary(\"MASS\")\n\n\n\n\n\n# set theme\ntheme_set(theme_classic())\n\n\n\nJohannes helpful models for doing things with ggplot2\n\n\nlibrary('MASS')\n\n## Simulate data\ndata_lin = mvrnorm(n= 2000, mu = c(0, 0),\n               Sigma = matrix(c(1, .45, .45, 1),\n                              nrow=2),\n               empirical = T) %>%\n           data.frame(.) %>%\n           mutate(group = factor(rep(c(1,2), 1000)))\n\n\n## Make a scatterplot\ndata_lin %>%\n  ggplot() +\n  aes(x = X1, y = X2) +\n  geom_point()\n\n\n\n## Make a scatter by group (facet, color, size)\n\ndata_lin %>%\n  ggplot() +\n  aes(x = X1, y = X2, color = group) +\n  geom_point()\n\n\n\n## Make a linegraph (facet, color, size)\n## Bonus make it full range\n\n\ndata_lin %>%\n  ggplot() +\n  aes(x = X1, y = X2, color = group) +\n  geom_point() +\n  geom_smooth(method = \"lm\")\n\n\n\n## Make it APA\n\ndata_lin %>%\n  ggplot() +\n  aes(x = X1, y = X2, color = group) +\n  geom_point() +\n  geom_smooth(method = \"lm\") +\n  theme_classic()\n\n\n\n## Change the axis labels to anything of your choice \n\ndata_lin %>%\n  ggplot() +\n  aes(x = X1, y = X2, color = group) +\n  geom_point() +\n  geom_smooth(method = \"lm\") +\n  labs(x = \"Axis 1\", y = \"Axis 2\") +\n  theme_classic() \n\n\n\n## Make a bargraph by group for variable X2 \n\ndata_lin %>%\n  ggplot() +\n  aes(x = group, y = X2, fill = group) +\n  geom_bar(stat = \"summary\", fun.y = \"mean\")\n\n\n\n## Bonus Make a bargraph with Errorbars  \n\ndata_plot <- Rmisc::summarySE(data_lin, \"X2\", \"group\")\n\ndata_plot %>%\n  ggplot() +\n  aes(x = group, y = X2, fill = group) +\n  geom_bar(stat = \"identity\") +\n  geom_errorbar(aes(ymin = X2 - ci, ymax = X2 + ci))\n\n\n\n\nQuestion 1: Why is this graph not printing any output?\n\n\nlibrary(\"tidyverse\")\nggplot(data = mtcars) + \n  aes(mpg, wt, colour=factor(cyl))\n\n\n\n\nQuestion 2. Using the mpg dataset, graph the relationship between city milage and highway mileage by year manufacture\nQuestion 3. Edit this graph so that the x axis and the y axis both start at 0\n\n\n# Create graph and add title\nggplot(data = mpg) + \n  geom_point(mapping = aes(x = displ, y = hwy)) + \n  labs(title = \"Relationship bewtween engine displacement and fuel efficiency in the mpg automobile dataset\") + \n  xlab(\"Engine displacement in (units)\") + \n  ylab(\"Highway miles per liter\")\n\n\n\n\nQuestion 4: what is one benefit and one limitation for this graph above (in which the x and y values start at 0?)\nQuetion 5. Which of these two graphs do you prefer and why?\n\n\ng1 <-ggplot(data = mpg) + \n  geom_point(mapping = aes(x = displ, y = hwy, colour =  class )) + \n  labs(title = \"Relationship bewtween engine displacement and fuel efficiency in the mpg automobile dataset\") + \n  xlab(\"Engine displacement in (units)\") + \n  ylab(\"Highway miles per liter\") \n\n\n\n\n\ng2 <-ggplot(data = mpg) + \n  geom_point(mapping = aes(x = displ, y = hwy, shape =  class )) + \n  labs(title = \"Relationship bewtween engine displacement and fuel efficiency in the mpg automobile dataset\") + \n  xlab(\"Engine displacement in (units)\") + \n  ylab(\"Highway miles per liter\") \n\n\n\n\n\nlibrary(\"patchwork\")\n\ng1 / g2 + plot_annotation(title = \"Which plot do you prefer and why?\", tag_levels = 'a')\n\n\n\n\nQuetion 6. add a facet to this graph for the “class” variable\n\n\ng2 <-ggplot(data = mpg) + \n  geom_point(mapping = aes(x = displ, y = hwy, shape =  class )) + \n  labs(title = \"Relationship bewtween engine displacement and fuel efficiency in the mpg automobile dataset\") + \n  xlab(\"Engine displacement in (units)\") + \n  ylab(\"Highway miles per liter\") \n\n\n\nQuestion 7. which graph is more informative and why?\n\n\n\nQuestion 8. remove the legend from the facet graph above (g4)\n\n\nggplot(data = mpg) +\n  geom_point(mapping = aes(x = displ, y = hwy, color = class)) +\n  facet_wrap( ~ class, nrow = 2)\n\n\n\n\nQuestion 9 Convert the y variable to “numeric” and graph the relationship betweeen religiousity (x-axis) and `thr_mus`` (y-axis) in the ISSP dataset. Create new axis labels\nDownload the ISSP questionaire used in this study [here]: (https://github.com/go-bayes/psych-447/blob/main/data_raw/ISSP/ISSP_2018_Religion_Questionnaire_final_version1-2.pdf)\nNote1\n\n\n# read the issp dataset for questionaire see: ISSP_2018_Religion_Questionnaire_final_version1-2.pdf\n# \n# subset of data from the issp dataset\nissp <- readr::read_csv2(url(\"https://raw.githubusercontent.com/go-bayes/psych-447/main/data/issp.csv\"))\n\n\n\n\n\n# note that we need to check our data\nhead(issp)\n\n# when we do we find that classes of the variables need to be adjusted\nstr(issp)\n\n\n\nLet’s get the data into shape using dplyr. Run this code below\n\n\nip <- issp %>%\n  mutate(\n    id = factor(id),\n    thr_ath = as.factor(thr_ath),\n    thr_bd = as.factor(thr_bd),\n    thr_ch = as.factor(thr_ch),\n    thr_hd = as.factor(thr_hd),\n    thr_jw = as.factor(thr_jw),\n    thr_ms = as.factor(thr_ms),\n    neg_ath = as.factor(neg_ath),\n    neg_bd = as.factor(neg_bd),\n    neg_ch = as.factor(neg_ch),\n    neg_hd  = as.factor(neg_hd),\n    neg_jw = as.factor(neg_jw),\n    neg_ms = as.factor(neg_ms),\n    wave  = as.factor(wave),\n    nzeuro = as.factor(nzeuro),\n    eduyears = as.numeric(eduyears),\n    male = as.factor(male),\n    age = as.numeric(age),\n    rightwing = as.numeric(rightwing),\n    rural = as.factor(rural),\n    religiosity = as.numeric(religiosity)\n  )\n\n\n\nQuestion 10. Note that I have the following graph should start from 1 and run to 4 but currently runs from 0-4. Fix the graph\n\n\nlibrary(ggplot2)\nggplot(data = ip, aes(y = as.numeric(thr_ms), x = religiosity, colour = wave))  +  geom_jitter(alpha = .1) + \n  geom_smooth(method = lm, fullrange = FALSE, alpha = 0.1) +\n   scale_y_continuous(limits = c(0,4))\n\n\n\n\nExtra question 11. Find one way of improving the the following code and explain your answer\n\n\nlibrary(sjPlot)\nplot_xtab(\n    ip$thr_ms,\n    ip$wave,\n    show.total = F,\n    show.n = F,\n    geom.colors = c(\"lightgreen\", \"darkred\")\n  ) +\n  xlab(\"Threatened by Muslims\") +  ylab(\"Frequency\") +\n  #scale_y_continuous(limits=c(0,7)) + #theme(plot.title = element_text(size=09))\n  theme(axis.text.x = element_text(angle = 20, hjust = 1))\n\n\n\n\n\nData were collected with Barry Milne and Martin Van dataset; the data are only authorised for the purposes of teaching.↩︎\n",
    "preview": "labs/L_3/lab_3_files/figure-html5/unnamed-chunk-3-1.png",
    "last_modified": "2021-03-10T14:59:03+13:00",
    "input_file": {},
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "labs/L_2/",
    "title": "Week 2 Lab",
    "description": {},
    "author": [
      {
        "name": "Joseph Bulbulia",
        "url": "https://josephbulbulia.netlify.app"
      },
      {
        "name": "Johannes Karl",
        "url": "https://johannes-karl.com"
      }
    ],
    "date": "2021-03-03",
    "categories": [],
    "contents": "\n\nContents\nWorkflow\nCreate Repos (if you have not already)\nCreate R projects\nWorkbook 2\n\n\nWorkflow\nIf you haven’t already, set a folder for your R projects. Choose a location on our Hard drive. It is best not to use a shared folder (iCloud, Dropbox, Google Drive) because this can sometime cause problems. GitHub will be your place to store your code.\nMine is called “GIT”.\nUsing the methods you learned last week:\nCreate Repos (if you have not already)\nCreate a repository for 447-journals (if you don’t have one already)\nCreate a repository for your 447-workbooks.\nYou should initialise a Readme statement and a .gitignore document (make sure to click the R .gitignore)\nCreate R projects\nCreate R-projects in each of these repositories.\nIn your workbooks folder, using the + New Folder command, create a folder called data (or similar) This is where you’ll store your data.\nCreate a file called figs (where you’ll stor your figures) 5 Create a folder called workbooks, or similar this is where you’ll store your weekly workbooks.\nWorkbook 2\nOpen an R markdown document, and filling in your name\nThe first code chunk is for your preferences.\n\n\nknitr::opts_chunk$set(echo = TRUE)\n\n\n\nFind the keyboard shortcuts menu.\nMemorise the keyboard shortcut for insert code chunk which is: ⌥⌘I\nUse the mac to insert a code chunk.\nMemorise the shortcut for evaluate which is ⌘-return^ use for all tasks in this workbook.\nUse R to do 10 mathematical calculations\n\n\n4+5\n\n\n[1] 9\n\n\n\n3^3\n\n\n[1] 27\n\nShow your work\nUsing R, find the square root of 324\nIn the iris dataset, find the flower with the longest Sepal.Length. (hint, use the max function.) Show the column details for this flower only.\nIn the iris dataset, find the flower with the shortest Sepal.Length. (hint, use the min function.)\nCalculate the difference bewteen the flower with the longest and shortest Sepal.Length\nMake a 7 column x 100 row dataframe using c, :, dataframe\nRename the columns of the dataframe using the names of snow white dwarfs, or any names.\nUsing the dataset woman, write a linear model for height ~ weight\nCreate a table and coefficient plot for this model\nUsing ggeffects, create a prediction plot for this model.\n\nNext week we’ll be creating plots like this\n\n\nlibrary(ggplot2)\nggplot2::ggplot(data = women) + \n  geom_point(mapping = aes(x = height, y = weight)) + geom_smooth(method = lm, aes(x = height, y = weight)) + theme_classic() \n\n\n\n\nExplain what is being calculated here\n\n\nsum(women$weight > 140) / length(women$weight)\n\n\n[1] 0.4\n\nCalculate the proportion of women who are over the mean weight of women\n\n\n\n\n\n\nWhat are the advantages and disadvantages of creating more breaks in the Petal.Length indicator? Clarify your answer in a paragraph.\n\n\nhist(iris$Petal.Length)\n\n\n\n\n\n\nhist(iris$Petal.Length, breaks = 100)\n\n\n\n\nSpot the error in this code\n\n\n# here is one method. \nmh <- mean(women$height)\nsum(women$weight > mh) / length(women$height)\n\n\n\nReorder the columns of the woman dataset so that weight comes before height. Then rename the columns “w” and “h”.\n\n\n\nRead data into R using the following method:\n\n\n\n\n\n# read data from file\nlibrary(\"readr\")\ntestdata<- readr::read_csv(url(\"https://raw.githubusercontent.com/go-bayes/psych-447/main/data/testdata1.csv\"))\nstr(testdata)\n\n\n\nSave data into your data folder using the following method\n\n\nlibrary(\"here\")\n# save data using here\nsaveRDS(testdata, here::here(\"data\", \"td.RDS\"))\n\n\n\nRead data back into R\n\n\ntd <- readRDS(here::here(\"data\", \"td.RDS\"))\nstr(td)\n\n\n\nUsing the td dataset, write a linear model for height ~ weight as above\n\n\n\nCreate a coefficient plot\nCreate a prediction plot\nExtra credit, how would you interpret the intercept in this model?*\n\n\n\n",
    "preview": "labs/L_2/lab_2_files/figure-html5/unnamed-chunk-3-1.png",
    "last_modified": "2021-03-03T13:43:32+13:00",
    "input_file": {},
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "labs/L_1/",
    "title": "Week 1 Lab",
    "description": {},
    "author": [
      {
        "name": "Joseph Bulbulia",
        "url": "https://josephbulbulia.netlify.app"
      },
      {
        "name": "Johannes Karl",
        "url": "https://johannes-karl.com"
      }
    ],
    "date": "2021-02-24",
    "categories": [],
    "contents": "\n\nContents\nSkills\nAssemble\nIntroductions\nQuestions\nDefine the following terms related to Rmarkdown, and describe how to do them:\nAnswer the following questions in 1 or 2 sentences:\nRmarkdown Presentation\n\nIntroductions\nAssignment: creating a journal and upload it to Blackboard\nCommit your first Rmarkdown journal\n\n\nSkills\nDo these excercises:\nhttps://commonmark.org/help/tutorial/\nAssemble\nAssemble into groups of 2 - 4 people\nIntroductions\nLearn each others names and interests and prepare a brief introduction for the other(s)\nQuestions\nHow do you set a working directory\nHow do you open and close an Rmarkdown document?\nWhere is the difference between “source” and “console” and when might we use each?\nWhat is “YAML”\nClarify how you found your answers\nDefine the following terms related to Rmarkdown, and describe how to do them:\n“Knit”\n“Show Outline”\n“CMD-S” (command-S)\nClarify how you found the answers.\nAnswer the following questions in 1 or 2 sentences:\nWhy is it important to knit often?\nWhat is “reproducible” research?\nHow might describing your analysis in Rmarkdown improve research?\nWhat are some limitations of Rmarkdown for improving reproducible research?\nRmarkdown Presentation\nCreate a 2-5 slide presentation in Rmarkdown (no images required) on Rstudio GitHub, Ramrkdown\n(You will not be assessed on the content of the slides – so bullet poits are up to you!)\nList advantages and disadvantates of Rmarkdown presentations\nIntroductions\nAssignment: creating a journal and upload it to Blackboard\nCheck that you have Rstudio and GitHub setup. If not, seek help\nCommit your first Rmarkdown journal\nCreate your first Rmarkdown document, and title it “My Journal”\nRecord your impressions of the process of getting set up with RStudio and GitHub\nRecord any help you have offered to other people, and any help you have sought from other people, along the way.\nSave the document and commit it to GitHub.\nNote: set your GitHub repository to private if you wish the account to be private\nFurther instructions under “Labs –> Workbook_1”\n\n\n\n",
    "preview": {},
    "last_modified": "2021-02-24T18:56:24+13:00",
    "input_file": {}
  }
]
